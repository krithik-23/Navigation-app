<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Government Polytechnic College Palakkad - Campus Map</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
body{
margin:0;
font-family: 'Segoe UI', Arial, sans-serif;
overflow:hidden;
}

/* ================= WELCOME PAGE ================= */

#welcomePage{
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#0d47a1,#1a73e8);
position:relative;
overflow:hidden;
}

.welcome-card{
background:white;
padding:50px 40px;
border-radius:20px;
text-align:center;
box-shadow:0 20px 50px rgba(0,0,0,0.3);
width:90%;
max-width:500px;
z-index:2;
position:relative;
}

.welcome-card img{
width:120px;
margin-bottom:20px;
}

.welcome-card h1{
color:#0d47a1;
margin-bottom:10px;
}

.welcome-card p{
color:#555;
margin-bottom:30px;
}

.enter-btn{
padding:14px 35px;
font-size:16px;
border:none;
border-radius:10px;
cursor:pointer;
background:linear-gradient(135deg,#1a73e8,#0d47a1);
color:white;
font-weight:bold;
transition:0.3s;
position:relative;
z-index:2;
}

.enter-btn:hover{
transform:translateY(-4px);
box-shadow:0 10px 25px rgba(0,0,0,0.3);
}

/* Rocket */
.rocket{
position:absolute;
font-size:55px;
bottom:-100px;
left:10%;
animation:fly 4s ease-in-out forwards;
z-index:3;
}

@keyframes fly{
0%{bottom:-100px; left:5%;}
40%{bottom:50%; left:45%;}
60%{bottom:50%; left:45%;}
100%{bottom:110%; left:110%;}
}

/* ================= MAIN APP ================= */

#mainApp{
display:none;
height:100vh;
flex-direction:column;
}

/* Header */
header{
background:#0d47a1;
color:white;
padding:15px;
text-align:center;
font-size:20px;
font-weight:bold;
}

/* Slider */
.slider{
background:#1a73e8;
color:white;
overflow:hidden;
white-space:nowrap;
}

.slider p{
display:inline-block;
padding-left:100%;
animation:slide 12s linear infinite;
font-weight:bold;
}

@keyframes slide{
0%{transform:translateX(0);}
100%{transform:translateX(-100%);}
}

/* Controls */
#controls{
padding:15px;
background:#f4f6fa;
display:flex;
justify-content:center;
gap:10px;
flex-wrap:wrap;
box-shadow:0 2px 10px rgba(0,0,0,0.1);
}

select, button{
padding:12px;
font-size:15px;
border-radius:8px;
border:1px solid #ccc;
}

button{
background:#0d47a1;
color:white;
border:none;
cursor:pointer;
transition:0.3s;
}

button:hover{
background:#1a73e8;
}

#map{
flex:1;
}

/* Smooth Transition */
.fade-out{
animation:fadeOut 1s forwards;
}

@keyframes fadeOut{
to{opacity:0; visibility:hidden;}
}
</style>
</head>

<body>

<!-- ================= WELCOME PAGE ================= -->
<div id="welcomePage">

<div class="rocket">ðŸš€</div>

<div class="welcome-card">
<img src="logo.png" alt="Polytechnic Logo">

<h1>Government Polytechnic College</h1>
<p>Palakkad Campus Smart Navigation System</p>

<button class="enter-btn" onclick="enterApp()">Enter Campus Map</button>
</div>

</div>

<!-- ================= MAIN APP ================= -->
<div id="mainApp">

<header>ðŸŽ“ Smart Campus Navigation</header>

<div class="slider">
<p>GOVERNMENT POLY TECHNICAL COLLEGE PALAKKAD CAMPUS MAP</p>
</div>

<div id="controls">
<select id="destination">
<option value="">-- Select Branch --</option>
<option value="che">Computer Hardware Engineering</option>
<option value="mech">Mechanical Engineering</option>
<option value="inst">Instrumentation Engineering</option>
<option value="civil">Civil Engineering</option>
<option value="ece">Electronics Engineering</option>
<option value="eee">Electrical & Electronics Engineering</option>
</select>

<button onclick="startNavigation()">Start Navigation</button>
</div>

<div id="map"></div>

</div>

<script>

// ENTER APP FUNCTION
function enterApp(){
document.getElementById("welcomePage").classList.add("fade-out");
setTimeout(()=>{
document.getElementById("welcomePage").style.display="none";
document.getElementById("mainApp").style.display="flex";
initMap();
},800);
}

// MAP FUNCTION
function initMap(){

var map = L.map('map', {
  crs: L.CRS.Simple,
  minZoom: -1
});

var bounds = [[0,0],[1000,1000]];
L.imageOverlay('campus.png', bounds).addTo(map);
map.fitBounds(bounds);

var entrance = [100,100];

var walker = L.circleMarker(entrance,{
radius:8,
color:"blue",
fillColor:"blue",
fillOpacity:1
}).addTo(map);

var branches = {
che: [250,250],
mech: [400,700],
inst: [300,850],
civil: [650,250],
ece: [700,500],
eee: [850,750]
};

var routeLine;

window.startNavigation = function(){
let selected = document.getElementById("destination").value;

if(selected===""){
alert("Please select a branch");
return;
}

if(routeLine){
map.removeLayer(routeLine);
}

let target = branches[selected];

routeLine = L.polyline([entrance,target],{
color:"red",
weight:4
}).addTo(map);

let path=[];
let steps=100;

for(let i=0;i<=steps;i++){
path.push([
entrance[0] + (target[0]-entrance[0])*(i/steps),
entrance[1] + (target[1]-entrance[1])*(i/steps)
]);
}

animate(path);
}

function animate(path){
let i=0;
let interval=setInterval(()=>{
if(i>=path.length){
clearInterval(interval);
return;
}
walker.setLatLng(path[i]);
i++;
},40);
}

}

</script>

</body>
</html>
